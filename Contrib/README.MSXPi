MSXPi Quick Start
=================

MSXPi is a hardware and software solution that allows MSX 
computers to control and use Raspberry Pi resources. The interface
exposes I/O ports for the MSX computer, which allows exchange of 
data with the Raspberry Pi using a custom protocol. Many resources are
implemented, such as access to network drives, internet, disk images,
and access to the Raspberry Pi itself to execute commands.

The MSXPiDevice for openMSX implements the same functionality of the
physical MSXPi without the need of a Raspberry Pi - instead, relies 
on a Python msxpi-server code running on the same coomputer where 
openMSX is hosted.

You can try the extension following steps below. Bear in mind that
the server-side component "msxpi-server.py" was developed and
extensively tested on the physical MSXPi with a real Raspberry Pi.
At this time, may commands will not work properly on the openMSX
due to platform differences when running the server, but these will
be ported as time allows and other developers step in to contribute.

Once you have openMSX with the MSXPi already compiled in the code:

Using MSXPi Extension for openMSX
=================================

You will need Python3 to use this extension. Install before trying the MSXPi
commands.
You will also have to download several files needed by MSXPi - follow the 
instrcutions to get started.

1. Install an openMSX package that was compiled with the extension, or compile 
   yourself. These instructions doees does not cover compilation of openMSX.
   
2. Download msxpi-server.py (server component that runs on Python) from:
   https://github.com/costarc/MSXPi/tree/master/software/Server/Python/src
   
   I recommend to run the server from command line, where you can keep an eye
   in the debug messages in the console. The server can be started before or
   after openMSX.
   
   python3 msxpi-server.py
   
3. Download msxpibios.rom from:
   https://github.com/costarc/MSXPi/tree/master/software/openMSX/share/systemroms/extensions
   
   Copy to you openMSX/share/systemroms/extensions/ folder.
   
4. Download the matching MSXPi.xml from:
   https://github.com/costarc/MSXPi/tree/master/software/openMSX/share/extensions
   
   copy to you openMSX/share/extensions/ folder.

5. Use a DIR as DISK with openMSX to facilitate the tests.
   Create a directory named FloppyA
   Copy MSXDOS.SYS and COMMAND.COM to FloppyA
   Make sure openMSX can boot into MSX-DOS using this folder as a drive:
   
   openmsx -machine Panasonic_FS-A1WSX -diska FloppyA
   
6. Dowload the MSXPi commands you want to test from:
   https://github.com/costarc/MSXPi/tree/master/software/target
   
   Many commands will not work (yet) with openMSX because they were originally 
   developed to work on Raspberry Pi. In time, most (if not all) commands
   will be ported to abstract the platform and run everywhere. If you can develop
   in python, help port them (thanks).
   
   For now, I suggest you start with:
   
   chatgpt.com (you will need an OpenAI to use it)
   prun.com
   pcd.com
   pdir.com
   pver.com
   pset.com
   
   Copy all these commands to you FloppyA
 
7. Start openMSX loading the MSXPi extension:

   openmsx -machine Panasonic_FS-A1WSX -diska FloppyA -ext MSXPi
   
8. Try some commands - type exactly as shown:

   pver
   pcd
   pdir
   pcd /
   pdir
   pset
   pcd R1:
   pcd
   pdir
   pcd R2:
   pdir
   prun dir
   chatgpt Tell me funny fact about MSX Computers.
   
   Note: As I mentioned before, some commands will not behave nicely
   because they were developed for Raspberry Pi (Linux). 
   Some work is needed on the msxpi-server side to make the commands
   work on Python running on a host that is not Linux.
   
9. Read the MSXPi dociumentation for more detailed information:
   https://github.com/costarc/MSXPi/tree/master/documents